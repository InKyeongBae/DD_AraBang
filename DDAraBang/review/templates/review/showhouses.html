<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>showhouses</title>
    <link href="https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap" rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/font.css' %}">
    <link rel="stylesheet" href="{% static 'css/layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/post_list.css' %}">
    <link rel="stylesheet" href="{% static 'css/my_page.css' %}">
    <link rel="stylesheet" href="{% static 'css/community.css' %}">
    <link rel="stylesheet" href="{% static 'css/homeupdate.css' %}">
    <link rel="stylesheet" href="{% static 'community/style.css' %}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">

    <style>
        /*----상단바-----*/
        nav {
            background-color: #662DE0;
        }

        #head_link {
            color: #ffffff;
            font-family: 'MapoDPPA';
        }

        #header_menu {
            color: #ffffff;
        }

        #header_menu:hover {
            font-weight: bold;
            color: #61F056;
        }

        .navbar-toggler-icon {
            color: #ffffff;

        }

        #review_info {
            margin: 0;
            padding: 0;
            display: block;
            text-decoration: none;
            color: #000;
            text-align: center;
            font-size: 1em;
            overflow: hidden;
            background: white;
            border: 2px solid #FA4D55;

        }

        #review_info_name {
            font-size: 1.2em;
            color: white;
            background-color: #FA4D55;
        }

        #review_info_place {
            margin: 5px;
        }

        #showhousesfooter {
            z-index: 100;
        }

        body {
            padding: 0;
            margin: 0;
            text-decoration: none;
        }

        .search {
            position: relative;
            z-index: 3;
            margin-left: 1rem;
        }

        .review-left-map {
            width: 100%;
            height: 650px;
            position: relative;
            z-index: 0;
            overflow: hidden;
            top: -52px;
        }

        #gotomyreview_container {
            position: relative;
            z-index: 3;
            top: -100px;
            left: 80%;
        }

        @media (max-width: 960px) {
            #gotomyreview_container {
                left: 70%
            }
        }

        @media (max-width: 480px) {
            #gotomyreview_container {
                left: 50%
            }
        }

        #gotomyreview_container a {
            border: none;
            font-size: inherit;
            color: #ffffff;
            background: #662DE0;
            box-shadow: 5px 3px 5px lightgrey;
            padding: .8rem 1.2rem;
            border-radius: 3rem;
            cursor: pointer;
            text-transform: uppercase;
            outline: none;
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            transition: all 0.3s;
        }

        #gotomyreview_container a:hover {
            text-decoration: none;
            background-color: #501DC1;
        }

        .h2_show {
            font-size: 1.4rem;
            font-weight: bold;
            margin-top: 1rem;
        }

        .gocreate {
            border: none;
            margin: 0 auto;
            font-size: inherit;
            color: #ffffff;
            background: #662DE0;
            box-shadow: 5px 3px 5px lightgrey;
            padding: .8rem 1.2rem;
            border-radius: 3rem;
            cursor: pointer;
            text-transform: uppercase;
            outline: none;
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            transition: all 0.3s;
        }

        .gocreate:hover {
            text-decoration: none;
            color: #ffffff;
            background-color: #501DC1;
        }

        .review {
            overflow: scroll;
            overflow-x: hidden;
            height: 480px;
        }

        #scrollbar_on::-webkit-scrollbar-track {
            -webkit-box-shadow: white
            border-radius: 10px;
            background-color: #ffffff;
        }

        #scrollbar_on::-webkit-scrollbar {
            width: 12px;
            background-color: #9e9e9e;
        }

        #scrollbar_on::-webkit-scrollbar-thumb {
            border-radius: 10px;
            -webkit-box-shadow: inset 0 0 6px rgba(205, 205, 205, 0.3);
            background-color: #8b8b8b;
        }

        .individual_review {
            float: left;
            display: inline-block;
        }

        #imgwrap {
            margin-top: 4%;
            margin-left: 3%;
        }

        #reviewimg {
            width: 100px;
            height: 100px;
            margin: 4px;
        }

        @font-face {
            font-family: 'MapoDPPA';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/MapoDPPA.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }


    </style>

</head>
<body>
<nav class="navbar navbar-expand-sm" style="position: relative; z-index: 2">
    <a href="/" class='navbar-brand' id="head_link"><i class="fas fa-home"></i> 단디알아방</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04"
            aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation"
            style="user-select: auto;">
            <span class="navbar-toggler-icon"
                  style="color: #ffffff;user-select: auto;font-size: 1.6rem; padding-top: .4rem;"><i
                    class="far fa-caret-square-down"></i></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExample04" style="user-select: auto;">
        <ul class="navbar-nav mr-auto" style="user-select: auto;">
            <li class="nav-item active" style="user-select: auto;">
                <a class="nav-link" id="header_menu" href="{% url 'review:map_main' %}" style="user-select: auto;">Review
                    Map<span
                            class="sr-only"
                            style="user-select: auto;">(current)</span></a>
            </li>
            <li class="nav-item active" style="user-select: auto;">
                <a class="nav-link" id="header_menu" href="{% url 'community:all_community_list' %}"
                   style="user-select: auto;">Community<span
                        class="sr-only"
                        style="user-select: auto;">(current)</span></a>
            </li>
            {% if user.is_authenticated %}
                <li class="nav-item active" style="user-select: auto;">
                    <a class="nav-link" id="header_menu" href="{% url 'community:my_page' %}"
                       style="user-select: auto;">My Page<span
                            class="sr-only"
                            style="user-select: auto;">(current)</span></a>
                </li>
                <li class="nav-item active" style="user-select: auto;">
                    <a class="nav-link" id="header_menu" href="{% url 'user:logout' %}" style="user-select: auto;">Logout<span
                            class="sr-only"
                            style="user-select: auto;">(current)</span></a>
                </li>
            {% else %}
                <li class="nav-item active" style="user-select: auto;">
                    <a class="nav-link" id="header_menu" href="{% url 'user:signup' %}" style="user-select: auto;">Signin<span
                            class="sr-only"
                            style="user-select: auto;">(current)</span></a>
                </li>
                <li class="nav-item active" style="user-select: auto;">
                    <a class="nav-link" id="header_menu" href="{% url 'user:login' %}"
                       style="user-select: auto;">Login<span
                            class="sr-only"
                            style="user-select: auto;">(current)</span></a>
                </li>
            {% endif %}

        </ul>
    </div>
</nav>
<div class="row" id="map-review-body">
    <div class="col-md-8" id="left-map" style="padding:0;">
        <div class="search" style="padding-left: 1rem;">
            <span>GO SEARCH</span>
            <div>
                <input type="text" name="address" id="addresscheck"
                       onkeypress="javascript:if(event.keyCode == 13){latchanger()}" placeholder="지명을 입력하세요!" required>
            </div>
        </div>
        <div class="review-left-map" id="map"></div>
        <span id="gotomyreview_container"><a id="gotomyreview" href="{% url 'review:myreview' %}">MY REVIEW</a></span>
    </div>
    <div class="col-md-4" id="review-map-review">
        <div class="row" id="h1container">
            <p class="h2_show" style="text-align: center; margin:1rem auto;">우리 학교 근처 자취방 후기보기</p>
            <input id="houseaddress" name="houseaddress" type="hidden">
            <input id="lat" name="lat" type="hidden">
            <input id="lng" name="lng" type="hidden">
        </div>
        {% if user.is_authenticated %}
            <div class="row">
                <a class="gocreate" href="{% url 'review:createaddress' %}">리뷰쓰러가기</a>
            </div>
            <div class="review" id="scrollbar_on">
                <div id="imgwrap">
                    {% for place in places %}
                        <span id="{{ place.name }}">
                        {% for review in place.reviews.all %}
                            <span class="individual_review" id="{{ review.pk }}" style="opacity: 20%; display: none;">
                                <a id="{{ review.pk }}" class="{{ user.buylist }}"
                                   onclick="confirm_test(this.id,this.className)">
                                    <img id="reviewimg" src="{{ review.image.url }}">
                                </a>
                            </span>
                        {% endfor %}
                        </span>
                    {% endfor %}
                </div>
            </div>{% else %}
            <div class="review" id="scrollbar_on">
                <div id="imgwrap">
                    {% for place in places %}
                        <span id="{{ place.name }}">
                        {% for review in place.reviews.all %}
                            <span class="individual_review" id="{{ review.pk }}" style=" opacity: 20%; display: none;">
                                <a id="{{ review.pk }}" onclick="notlogin()">
                                    <img id="reviewimg" src="{{ review.image.url }}">
                                </a>
                            </span>
                        {% endfor %}
                        </span>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
</div>

<script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=361c1489406c5f6260ca4e39435052df&libraries=services,clusterer"></script>
<script>

    let testschoolname = '{{ test.school }}'
    var lista = []
    var listb = []
    var listc = []
    var listd = []
    {% for school in schools %}
        lista.push('{{ school.name }}')
        listb.push('{{ school.lat }}')
        listc.push('{{ school.lng }}')
        listd.push('{{ school.gu }}')
    {% endfor %}

    for (var i = 0; i < lista.length; i++) {
        if (lista[i] == testschoolname) {
            var schoolname = lista[i]
            var lat = listb[i]
            var lng = listc[i]
            var gu = listd[i]
            console.log(gu)
        }
    }

    var MARKER_WIDTH = 33, // 기본, 클릭 마커의 너비
        MARKER_HEIGHT = 36, // 기본, 클릭 마커의 높이
        OFFSET_X = 12, // 기본, 클릭 마커의 기준 X좌표
        OFFSET_Y = MARKER_HEIGHT, // 기본, 클릭 마커의 기준 Y좌표
        OVER_MARKER_WIDTH = 40, // 오버 마커의 너비
        OVER_MARKER_HEIGHT = 42, // 오버 마커의 높이
        OVER_OFFSET_X = 13, // 오버 마커의 기준 X좌표
        OVER_OFFSET_Y = OVER_MARKER_HEIGHT, // 오버 마커의 기준 Y좌표
        BLUE_MARKER_URL = '/static/skyblue.png', // 기존 스프라이트 마커 이미지 URL
        RED_MARKER_URL = '/static/orange.png',
        BIG_MARKER_URL = '/static/big.png',
        SPRITE_GAP = 10; // 스프라이트 이미지에서 마커간 간격

    var markerSize = new kakao.maps.Size(30, 30), // 기본, 클릭 마커의 크기
        markerOffset = new kakao.maps.Point(15, 15), // 기본, 클릭 마커의 기준좌표
        overMarkerSize = new kakao.maps.Size(40, 40), // 오버 마커의 크기
        overMarkerOffset = new kakao.maps.Point(18, 18); // 오버 마커의 기준 좌표
    {#spriteImageSize = new kakao.maps.Size(30, 30); // 스프라이트 이미지의 크기#}


    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new kakao.maps.LatLng(lat, lng), // 지도의 중심좌표 -현재 강남역 4번출구 미왕빌딩(X :127.029144, Y :37.4955018)
            level: 5 // 지도의 확대 레벨
        };


    var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다


    function latchanger() {
        var addresscheck = document.getElementById('addresscheck').value

        // 주소-좌표 변환 객체를 생성합니다
        var geocoder = new kakao.maps.services.Geocoder();

        // 주소로 좌표를 검색합니다
        geocoder.addressSearch(addresscheck, function (result, status) {

            // 정상적으로 검색이 완료됐으면
            if (status === kakao.maps.services.Status.OK) {
                var lat = result[0].y
                var lng = result[0].x
                console.log(lat, lng)
                document.getElementById("lat").value = lat
                document.getElementById("lng").value = lng
                document.getElementById("houseaddress").value = addresscheck
                $('#addresscheck').val('');

                function panTo() {
                    // 이동할 위도 경도 위치를 생성합니다
                    var moveLatLon = new kakao.maps.LatLng(lat, lng);

                    // 지도 중심을 부드럽게 이동시킵니다
                    // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다
                    map.panTo(moveLatLon);
                    console.log(bounds);
                }

                panTo()
            } else {
                alert('검색이 잘못되었습니다! 지명을 입력해주세요!')
                $('#addresscheck').val('');
            }
        });


    }

    var info = [];

    // 마커를 생성하고 지도 위에 표시하고, 마커에 mouseover, mouseout, click 이벤트를 등록하는 함수입니다
    function addMarker(position, normalOrigin, content) {

        // 지도 영역정보를 얻어옵니다
        var bounds = map.getBounds();

        bounds.toString();
        // 기본 마커이미지, 오버 마커이미지, 클릭 마커이미지를 생성합니다
        var normalImage = createMarkerImage_basic(markerSize, markerOffset, normalOrigin, BLUE_MARKER_URL),
            overImage = createMarkerImage_over(overMarkerSize, overMarkerOffset, normalOrigin, BIG_MARKER_URL),
            clickImage = createMarkerImage_basic(markerSize, markerOffset, normalOrigin, RED_MARKER_URL);

        // 마커를 생성하고 이미지는 기본 마커 이미지를 사용합니다
        var marker = new kakao.maps.Marker({
            map: map,
            position: position,
            image: normalImage
        });

        var pos = marker.getPosition();

        var checkpos = bounds.contain(pos);

        if (checkpos == true) {
            markers.push(marker);
            console.log("true");
            {% for reviewform in reviewforms %}

                if ({{ reviewform.place.lat }}==position['Ha']) {
                if ({{ reviewform.place.lng }}==position['Ga']
            )
                {

                    var colordiv = document.getElementById('{{reviewform.pk}}')
                    colordiv.style.display = "inline-block";

                }
            }
            {% endfor %}
        } else {
            console.log("false");
            {% for reviewform in reviewforms %}

                if ({{ reviewform.place.lat }}==position['Ha']) {
                if ({{ reviewform.place.lng }}==position['Ga']
            )
                {

                    var colordiv = document.getElementById('{{reviewform.pk}}')
                    console.log(colordiv);
                    colordiv.style.display = "none";
                }
            }
            {% endfor %}
        }


        // 마커를 클릭했을 때 마커 위에 표시할 인포윈도우를 생성합니다
        var iwRemoveable = false; // removeable 속성을 ture 로 설정하면 인포윈도우를 닫을 수 있는 x버튼이 표시됩니다

        // 인포윈도우를 생성합니다
        var infowindow = new kakao.maps.InfoWindow({
            content: content,
            removable: iwRemoveable
        });

        info.push(infowindow);

        function closeInfoWindow() {
            for (var idx = 0; idx < info.length; idx++) {
                info[idx].close();
            }
        }

        // 마커에 mouseover 이벤트를 등록합니다
        kakao.maps.event.addListener(marker, 'mouseover', function () {

            // 클릭된 마커가 없고, mouseover된 마커가 클릭된 마커가 아니면
            // 마커의 이미지를 오버 이미지로 변경합니다
            if (!selectedMarker || selectedMarker !== marker) {
                marker.setImage(overImage);
            }
        });

        // 마커에 mouseout 이벤트를 등록합니다
        kakao.maps.event.addListener(marker, 'mouseout', function () {

            // 클릭된 마커가 없고, mouseout된 마커가 클릭된 마커가 아니면
            // 마커의 이미지를 기본 이미지로 변경합니다
            if (!selectedMarker || selectedMarker !== marker) {
                marker.setImage(normalImage);
            }
        });


        // 마커에 click 이벤트를 등록합니다
        kakao.maps.event.addListener(marker, 'click', function () {

            // 클릭된 마커가 없고, click 마커가 클릭된 마커가 아니면
            // 마커의 이미지를 클릭 이미지로 변경합니다
            if (!selectedMarker || selectedMarker !== marker) {

                {% for reviewform in reviewforms %}

                    if ({{ reviewform.place.lat }}==position['Ha']) {
                    if ({{ reviewform.place.lng }}==position['Ga']
                )
                    {
                        closeInfoWindow();
                        console.log('{{reviewform.place.name}}') //test찍기~
                        var colordiv = document.getElementById('{{reviewform.pk}}')
                        colordiv.style.transition = "all ease 1s";
                        colordiv.style.transform = "scale( 1.2 )";
                        colordiv.style.opacity = "100%";
                        colordiv.className = "coloredd";
                        infowindow.open(map, marker);
                    }
                }
                {% endfor %}

                marker.setImage(clickImage);

            }

            if (selectedMarker != null) {

                selectedMarker.setImage(normalImage);
                console.log($(".coloredd"));
                $(".coloredd").css("opacity", "20%");
                $(".coloredd").css("transition", "all ease 1s");
                $(".coloredd").css("transform", "scale(1.0)");
                $(".coloredd").removeClass("coloredd");
                marker.setImage(clickImage);


                {% for reviewform in reviewforms %}

                    if ({{ reviewform.place.lat }}==position['Ha']) {
                    if ({{ reviewform.place.lng }}==position['Ga']
                )
                    {
                        closeInfoWindow();
                        console.log('{{reviewform.place.name}}') //test찍기~
                        var colordiv = document.getElementById('{{reviewform.pk}}')
                        console.log(colordiv);
                        colordiv.style.opacity = "100%";
                        colordiv.style.transition = "all ease 1s";
                        colordiv.style.transform = "scale( 1.2 )";
                        colordiv.style.width = "100px";
                        colordiv.className = "coloredd";
                        infowindow.open(map, marker);
                    }
                }
                {% endfor %}

            }


            // 클릭된 마커를 현재 클릭된 마커 객체로 설정합니다
            selectedMarker = marker;


        });

        kakao.maps.event.addListener(map, 'bounds_changed', function () {
            marker.setMap(null);

            console.log('지도바뀜')

            for (var j = 0; j <= markers.length; j++) {
                markers.pop();
            }


        });

    }

    var markers = [];


    var positions = [
            {% for place in places %}
                {
                    content: '<div id="review_info"><div id="review_info_name">{{ place.reviews.count }}개의 리뷰</div><div id="review_info_place">{{place.name}}</div></div>', //이 내용이 인포그래픽으로 뜨니까 잘 꾸미기
                    latlng: new kakao.maps.LatLng({{place.lat}}, {{place.lng}})
                }, //뒤에 comma 필수!
            {% endfor %}
        ],
        selectedMarker = null;


    function show(bounds) {
        for (var i = 0; i < positions.length; i++) {

            var normalOrigin = new kakao.maps.Point(0, 0); // 스프라이트 이미지에서 기본 마커로 사용할 영역의 좌상단 좌표

            addMarker(positions[i].latlng, normalOrigin, positions[i].content);
            // 마커를 생성하고 지도위에 표시합니다

            console.log(markers);

        }
    }


    show();

    kakao.maps.event.addListener(map, 'bounds_changed', function () {
        console.log('지도바뀐후 행동')
        var bounds = map.getBounds();
        bounds.toString();
        show(bounds);
        // 지도 영역정보를 얻어옵니다

        console.log(bounds);


    });

    // 지도에 마커를 표시하는 함수입니다
    function displayMarker(place) {

        // 마커를 생성하고 지도에 표시합니다
        var marker = new kakao.maps.Marker({
            map: map,
            position: new kakao.maps.LatLng(place.y, place.x)
        });


    }


    // MakrerImage 객체를 생성하여 반환하는 함수입니다
    function createMarkerImage_basic(markerSize, offset, spriteOrigin, url) {
        var markerImage = new kakao.maps.MarkerImage(
            url, // 스프라이트 마커 이미지 URL
            markerSize, // 마커의 크기
            {
                offset: offset, // 마커 이미지에서의 기준 좌표
                spriteOrigin: spriteOrigin, // 스트라이프 이미지 중 사용할 영역의 좌상단 좌표
                spriteSize: markerSize // 스프라이트 이미지의 크기
            }
        );

        return markerImage;
    }

    // MakrerImage 객체를 생성하여 반환하는 함수입니다
    function createMarkerImage_over(markerSize, offset, spriteOrigin, url) {
        var markerImage = new kakao.maps.MarkerImage(
            url, // 스프라이트 마커 이미지 URL
            markerSize, // 마커의 크기
            {
                offset: offset, // 마커 이미지에서의 기준 좌표
                spriteOrigin: spriteOrigin, // 스트라이프 이미지 중 사용할 영역의 좌상단 좌표
                spriteSize: overMarkerSize // 스프라이트 이미지의 크기
            }
        );

        return markerImage;
    }
</script>

{#jquery script 추가#}
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>


<script>
    function confirm_test(openpk, userbuylist) {

        console.log(userbuylist);
        var beforeStr = userbuylist;
        var afterStr = beforeStr.split(',');
        console.log(afterStr.length);

        {% if user.is_authenticated %}
            console.log('{{ user.point }}')
            pointcheck = {{ user.point }}
        {% endif %}

    checkbuylist = 0;
        for (var i = 0; i < afterStr.length; i++) {
            if (afterStr[i] == openpk) {
                checkbuylist = 1;
            }
        }

        if (pointcheck < 3) {
            if (checkbuylist == 1) {
                var openpk = parseInt(openpk);
                console.log(openpk);
                {% for review in reviewforms %}

                    if (openpk === {{ review.pk }}) {
                        pk = {{ review.pk }};
                        console.log(pk)
                        window.open("{% url 'review:homedetail' review.pk %}", '', 'width=1000, height=600');
                    }

                {% endfor %}
            } else {
                alert('리뷰를 확인하기 위한 땅문서가 부족합니다!');
            }

        } else {
            if (checkbuylist == 0) {
                var confirm_test = confirm("땅문서를 차감하고 리뷰를 확인하시겠습니까?");

                if (confirm_test == true) {
                    var openpk = parseInt(openpk);
                    console.log(openpk);

                    {% for review in reviewforms %}

                        if (openpk === {{ review.pk }}) {
                            pk = {{ review.pk }};
                            console.log(pk)
                            window.open("{% url 'review:homedetail' review.pk %}", '', 'width=1000, height=600');

                            setTimeout(function () {

                                window.location.reload();

                            }, 500);

                        }

                    {% endfor %}


                } else if (confirm_test == false) {
                    alert("취소를 누르셨습니다.");
                }
            } else {
                var openpk = parseInt(openpk);
                console.log(openpk);
                {% for review in reviewforms %}

                    if (openpk === {{ review.pk }}) {
                        pk = {{ review.pk }};
                        console.log(pk)
                        window.open("{% url 'review:homedetail' review.pk %}", '', 'width=1000, height=600');
                    }

                {% endfor %}
            }
        }

    }
</script>

<script>
    function notlogin() {
        var confirm_test = confirm("로그인 후 이용가능한 서비스입니다.로그인하시겠습니까?");

        if (confirm_test == true) {
            location = '{% url "user:login" %}';

        } else if (confirm_test == false) {
            alert("취소(아니오)를 누르셨습니다.");
        }
    }
</script>
<script>
    function notlogin() {
        var confirm_test = confirm("로그인 후 이용가능한 서비스입니다.로그인하시겠습니까?");

        if (confirm_test == true) {
            location = '{% url "user:login" %}';

        } else if (confirm_test == false) {
            alert("취소(아니오)를 누르셨습니다.");
        }
    }
</script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>
</html>